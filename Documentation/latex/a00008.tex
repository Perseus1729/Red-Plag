\hypertarget{a00008}{}\doxysection{models Namespace Reference}
\label{a00008}\index{models@{models}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{a00014}{add\+\_\+data}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{a00008_a04f77e07fb14bd5e1676c7977d1cf9fb}{remove\+\_\+redundant\+\_\+functions}} (content)
\item 
def \mbox{\hyperlink{a00008_a9ea2385ffbfaba2d8293ff4a5a42342d}{remove\+\_\+comments}} (string)
\item 
def \mbox{\hyperlink{a00008_ad68fd9f59271bd6488f679c29f8c0d0d}{visualizer}} (list\+\_\+of\+\_\+files, similarity\+\_\+matrix)
\item 
def \mbox{\hyperlink{a00008_a20dd4f7d8e9888533a7f249fb65ffe93}{remove\+\_\+macros}} (content)
\item 
def \mbox{\hyperlink{a00008_a87f7f17fcaee1e188a0c81727de2e0a1}{remove\+\_\+comments\+\_\+pythonfile}} (file\+\_\+content)
\item 
def \mbox{\hyperlink{a00008_a56248cb72b70e4186339e4f60af23b2c}{preprocessing}} (list\+\_\+of\+\_\+paths, list\+\_\+of\+\_\+files)
\item 
def \mbox{\hyperlink{a00008_a6d507e11be3d7f5665dbf0049d0ad6bd}{tf\+\_\+idf}} (word\+\_\+count\+\_\+in\+\_\+each\+\_\+file, word\+\_\+count\+\_\+across\+\_\+documents, list\+\_\+of\+\_\+paths, list\+\_\+of\+\_\+files)
\item 
def \mbox{\hyperlink{a00008_ae9d41a08307e8914d368c6e18d9f52b5}{txt\+\_\+file}} (similarity\+\_\+matrix, list\+\_\+of\+\_\+paths, list\+\_\+of\+\_\+files)
\item 
def \mbox{\hyperlink{a00008_a13fcdaace15888ccb011a07763a7c3fb}{csv\+\_\+file}} (list\+\_\+of\+\_\+files, similarity\+\_\+matrix)
\item 
def \mbox{\hyperlink{a00008_ad7bfa0660f05ca9a55b0b491cd9ace54}{similarity}} (s, t)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{a00008_a13fcdaace15888ccb011a07763a7c3fb}\label{a00008_a13fcdaace15888ccb011a07763a7c3fb}} 
\index{models@{models}!csv\_file@{csv\_file}}
\index{csv\_file@{csv\_file}!models@{models}}
\doxysubsubsection{\texorpdfstring{csv\_file()}{csv\_file()}}
{\footnotesize\ttfamily def models.\+csv\+\_\+file (\begin{DoxyParamCaption}\item[{}]{list\+\_\+of\+\_\+files,  }\item[{}]{similarity\+\_\+matrix }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments    :
    list_of_files    :list of source code file names
    similarity_matrix:2-dimensional matrix representing mutual similarity between each pair of files
Functionality:
    Plotting the output similarity_matrix and saving it as an csv file \end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{296 \textcolor{keyword}{def }csv\_file(list\_of\_files,similarity\_matrix):}
\DoxyCodeLine{297     \textcolor{comment}{\#"{}"{}"{} Interpreting the Output data as a CSV file ,}}
\DoxyCodeLine{298     \textcolor{comment}{\#where each element represent the percentage matching between the file }}
\DoxyCodeLine{299     \textcolor{comment}{\#corresponding to a row and column"{}"{}"{}}}
\DoxyCodeLine{300     \textcolor{stringliteral}{"{}"{}"{} }}
\DoxyCodeLine{301 \textcolor{stringliteral}{    Arguments    :}}
\DoxyCodeLine{302 \textcolor{stringliteral}{        list\_of\_files    :list of source code file names}}
\DoxyCodeLine{303 \textcolor{stringliteral}{        similarity\_matrix:2-\/dimensional matrix representing mutual similarity between each pair of files}}
\DoxyCodeLine{304 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{305 \textcolor{stringliteral}{        Plotting the output similarity\_matrix and saving it as an csv file }}
\DoxyCodeLine{306 \textcolor{stringliteral}{           }}
\DoxyCodeLine{307 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{308     f=similarity\_matrix.tolist()}
\DoxyCodeLine{309     files=[\textcolor{stringliteral}{'filenames'}]+list\_of\_files}
\DoxyCodeLine{310     \textcolor{keywordflow}{for} x \textcolor{keywordflow}{in} range(len(list\_of\_files)):}
\DoxyCodeLine{311         f[x]=[list\_of\_files[x]]+f[x]}
\DoxyCodeLine{312     f=[files]+f}
\DoxyCodeLine{313     \textcolor{keyword}{with} open(\textcolor{stringliteral}{"{}media/result.csv"{}}, \textcolor{stringliteral}{"{}w+"{}}) \textcolor{keyword}{as} myCsv:}
\DoxyCodeLine{314         csvWriter = csv.writer(myCsv, delimiter=\textcolor{stringliteral}{','})}
\DoxyCodeLine{315         csvWriter.writerows(f)}
\DoxyCodeLine{316     visualizer(list\_of\_files,similarity\_matrix)}

\end{DoxyCode}
\mbox{\Hypertarget{a00008_a56248cb72b70e4186339e4f60af23b2c}\label{a00008_a56248cb72b70e4186339e4f60af23b2c}} 
\index{models@{models}!preprocessing@{preprocessing}}
\index{preprocessing@{preprocessing}!models@{models}}
\doxysubsubsection{\texorpdfstring{preprocessing()}{preprocessing()}}
{\footnotesize\ttfamily def models.\+preprocessing (\begin{DoxyParamCaption}\item[{}]{list\+\_\+of\+\_\+paths,  }\item[{}]{list\+\_\+of\+\_\+files }\end{DoxyParamCaption})}

\begin{DoxyVerb}Core logic is based on the Bag_of_Words
and TF-IDF Strategy( Term frequency and Inverse Document Frequency )

Arguments    :
    list_of_paths    :list of source code paths
    list_of_files    :it consists of list of file names
Functionality:
    It finds the count of each word after removing comments and replacing macros and passes this vector to tf_idf function.\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{167 \textcolor{keyword}{def }preprocessing(list\_of\_paths,list\_of\_files):}
\DoxyCodeLine{168     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{169 \textcolor{stringliteral}{    Core logic is based on the Bag\_of\_Words}}
\DoxyCodeLine{170 \textcolor{stringliteral}{    and TF-\/IDF Strategy( Term frequency and Inverse Document Frequency )}}
\DoxyCodeLine{171 \textcolor{stringliteral}{    }}
\DoxyCodeLine{172 \textcolor{stringliteral}{    Arguments    :}}
\DoxyCodeLine{173 \textcolor{stringliteral}{        list\_of\_paths    :list of source code paths}}
\DoxyCodeLine{174 \textcolor{stringliteral}{        list\_of\_files    :it consists of list of file names}}
\DoxyCodeLine{175 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{176 \textcolor{stringliteral}{        It finds the count of each word after removing comments and replacing macros and passes this vector to tf\_idf function.}}
\DoxyCodeLine{177 \textcolor{stringliteral}{    }}
\DoxyCodeLine{178 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{179     word\_count\_across\_documents=\{\}}
\DoxyCodeLine{180     \textcolor{stringliteral}{"{}"{}"{} Maintains the word count of each element in a document "{}"{}"{}}}
\DoxyCodeLine{181 }
\DoxyCodeLine{182     word\_count\_in\_each\_file=[]}
\DoxyCodeLine{183    }
\DoxyCodeLine{184     \textcolor{keywordflow}{for} files \textcolor{keywordflow}{in} list\_of\_paths:}
\DoxyCodeLine{185 }
\DoxyCodeLine{186         filename=\textcolor{stringliteral}{'media/'}+files}
\DoxyCodeLine{187         temp=\{\}}
\DoxyCodeLine{188         myfile=open(filename,\textcolor{stringliteral}{"{}r"{}})}
\DoxyCodeLine{189         content=myfile.read()}
\DoxyCodeLine{190         myfile.close()}
\DoxyCodeLine{191         }
\DoxyCodeLine{192         if(files[-\/4:]==\textcolor{stringliteral}{'.cpp'}):}
\DoxyCodeLine{193             content=remove\_redundant\_functions(content)}
\DoxyCodeLine{194             content=remove\_macros(content)}
\DoxyCodeLine{195             content=remove\_comments(content)}
\DoxyCodeLine{196         if(files[-\/5:]==\textcolor{stringliteral}{'.java'}):}
\DoxyCodeLine{197             content=remove\_comments(content)}
\DoxyCodeLine{198         elif(files[-\/3:]==\textcolor{stringliteral}{'.py'}):}
\DoxyCodeLine{199             content=remove\_comments\_pythonfile(content)}
\DoxyCodeLine{200         sym=[\textcolor{stringliteral}{"{},"{}},\textcolor{stringliteral}{"{};"{}},\textcolor{stringliteral}{"{}\{"{}},\textcolor{stringliteral}{"{}\}"{}},\textcolor{stringliteral}{"{})"{}},\textcolor{stringliteral}{"{}("{}},\textcolor{stringliteral}{"{}["{}},\textcolor{stringliteral}{"{}]"{}},\textcolor{stringliteral}{"{}+"{}},\textcolor{stringliteral}{"{}-\/"{}},\textcolor{stringliteral}{"{}*"{}},\textcolor{stringliteral}{"{}/"{}},\textcolor{stringliteral}{"{}\%"{}},\textcolor{stringliteral}{"{}|"{}},\textcolor{stringliteral}{"{}\&"{}},\textcolor{stringliteral}{"{}\string^"{}},\textcolor{stringliteral}{"{}!"{}},\textcolor{stringliteral}{"{}="{}},\textcolor{stringliteral}{"{}<"{}},\textcolor{stringliteral}{"{}>"{}},\textcolor{stringliteral}{"{}?"{}},\textcolor{stringliteral}{"{}'"{}},\textcolor{stringliteral}{'"{}'},\textcolor{stringliteral}{'\#'},\textcolor{stringliteral}{'.'}]}
\DoxyCodeLine{201         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} sym:}
\DoxyCodeLine{202             content=content.replace(i,\textcolor{stringliteral}{"{} "{}}+i+\textcolor{stringliteral}{"{} "{}})}
\DoxyCodeLine{203         }
\DoxyCodeLine{204         if(files[-\/4:]==\textcolor{stringliteral}{'.cpp'} \textcolor{keywordflow}{or} files[-\/5:]==\textcolor{stringliteral}{'.java'}):}
\DoxyCodeLine{205             content=content.replace(\textcolor{stringliteral}{"{}while"{}},\textcolor{stringliteral}{"{}for"{}})}
\DoxyCodeLine{206             content=content.replace(\textcolor{stringliteral}{"{}switch"{}},\textcolor{stringliteral}{"{}if"{}})}
\DoxyCodeLine{207             content=content.replace(\textcolor{stringliteral}{"{}case"{}},\textcolor{stringliteral}{"{}else if"{}})}
\DoxyCodeLine{208             content=content.replace(\textcolor{stringliteral}{"{}default"{}},\textcolor{stringliteral}{"{}else"{}})}
\DoxyCodeLine{209             content=content.replace(\textcolor{stringliteral}{"{}unsigned long long int"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{210             content=content.replace(\textcolor{stringliteral}{"{}unsigned long long"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{211             content=content.replace(\textcolor{stringliteral}{"{}long long int"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{212             content=content.replace(\textcolor{stringliteral}{"{}long long"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{213             content=content.replace(\textcolor{stringliteral}{"{}float"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{214             content=content.replace(\textcolor{stringliteral}{"{}int"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{215             content=content.replace(\textcolor{stringliteral}{"{}for"{}},\textcolor{stringliteral}{"{}double"{}})}
\DoxyCodeLine{216             content=content.replace(\textcolor{stringliteral}{"{}+ +"{}},\textcolor{stringliteral}{"{}+ = 1"{}})}
\DoxyCodeLine{217             content=content.replace(\textcolor{stringliteral}{"{}-\/ -\/"{}},\textcolor{stringliteral}{"{}-\/ = 1"{}})}
\DoxyCodeLine{218             content=content.replace(\textcolor{stringliteral}{"{}< <"{}},\textcolor{stringliteral}{"{}<<"{}})}
\DoxyCodeLine{219             content=content.replace(\textcolor{stringliteral}{'> >'},\textcolor{stringliteral}{"{}>>"{}})}
\DoxyCodeLine{220             cont=\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{221             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} content.split(\textcolor{stringliteral}{'\(\backslash\)n'}):}
\DoxyCodeLine{222                 if(i==\textcolor{stringliteral}{'\(\backslash\)n'}):}
\DoxyCodeLine{223                     \textcolor{keywordflow}{continue}}
\DoxyCodeLine{224                 i=i.strip()}
\DoxyCodeLine{225                 if(len(i)==0 \textcolor{keywordflow}{or} i[0]==\textcolor{stringliteral}{'\#'}):}
\DoxyCodeLine{226                     \textcolor{keywordflow}{continue}}
\DoxyCodeLine{227                 \textcolor{keywordflow}{else}:}
\DoxyCodeLine{228                     cont=cont+\textcolor{stringliteral}{' '}+i}
\DoxyCodeLine{229             content=cont}
\DoxyCodeLine{230             }
\DoxyCodeLine{231         elif(files[-\/3:]==\textcolor{stringliteral}{'.py'}):}
\DoxyCodeLine{232             content=content.replace(\textcolor{stringliteral}{'while'},\textcolor{stringliteral}{'for'})}
\DoxyCodeLine{233             content=content.replace(\textcolor{stringliteral}{'switch'},\textcolor{stringliteral}{'if'})}
\DoxyCodeLine{234             content=content.replace(\textcolor{stringliteral}{'case'},\textcolor{stringliteral}{'elif'})}
\DoxyCodeLine{235             content=content.replace(\textcolor{stringliteral}{'default'},\textcolor{stringliteral}{'else'})}
\DoxyCodeLine{236             content=content.replace(\textcolor{stringliteral}{'do'},\textcolor{stringliteral}{''})}
\DoxyCodeLine{237             content=re.sub(\textcolor{stringliteral}{':|\(\backslash\)'|\(\backslash\)"{}'},\textcolor{stringliteral}{''},content)}
\DoxyCodeLine{238         List\_of\_words=content.split()}
\DoxyCodeLine{239 }
\DoxyCodeLine{240         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} List\_of\_words:}
\DoxyCodeLine{241             temp[i]=temp.get(i,0)+1 }
\DoxyCodeLine{242             word\_count\_across\_documents[i]=word\_count\_across\_documents.get(i,0)+1}
\DoxyCodeLine{243         }
\DoxyCodeLine{244         word\_count\_in\_each\_file.append(temp)}
\DoxyCodeLine{245     tf\_idf(word\_count\_in\_each\_file,word\_count\_across\_documents,list\_of\_paths,list\_of\_files)}
\DoxyCodeLine{246 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_a9ea2385ffbfaba2d8293ff4a5a42342d}\label{a00008_a9ea2385ffbfaba2d8293ff4a5a42342d}} 
\index{models@{models}!remove\_comments@{remove\_comments}}
\index{remove\_comments@{remove\_comments}!models@{models}}
\doxysubsubsection{\texorpdfstring{remove\_comments()}{remove\_comments()}}
{\footnotesize\ttfamily def models.\+remove\+\_\+comments (\begin{DoxyParamCaption}\item[{}]{string }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{66 \textcolor{keyword}{def }remove\_comments(string):}
\DoxyCodeLine{67     pattern = \textcolor{stringliteral}{r"{}(\(\backslash\)"{}.*?\(\backslash\)"{}|\(\backslash\)'.*?\(\backslash\)')|(/\(\backslash\)*.*?\(\backslash\)*/|//[\string^\(\backslash\)r\(\backslash\)n]*\$)"{}}}
\DoxyCodeLine{68     \textcolor{comment}{\# first group captures quoted strings (double or single)}}
\DoxyCodeLine{69     \textcolor{comment}{\# second group captures comments (//single-\/line or /* multi-\/line */)}}
\DoxyCodeLine{70     regex = re.compile(pattern, re.MULTILINE|re.DOTALL)}
\DoxyCodeLine{71     \textcolor{keyword}{def }\_replacer(match):}
\DoxyCodeLine{72         \textcolor{comment}{\# if the 2nd group (capturing comments) is not None,}}
\DoxyCodeLine{73         \textcolor{comment}{\# it means we have captured a non-\/quoted (real) comment string.}}
\DoxyCodeLine{74         \textcolor{keywordflow}{if} match.group(2) \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{75             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}} \textcolor{comment}{\# so we will return empty to remove the comment}}
\DoxyCodeLine{76         \textcolor{keywordflow}{else}: \textcolor{comment}{\# otherwise, we will return the 1st group}}
\DoxyCodeLine{77             \textcolor{keywordflow}{return} match.group(1) \textcolor{comment}{\# captured quoted-\/string}}
\DoxyCodeLine{78     \textcolor{keywordflow}{return} regex.sub(\_replacer, string)}
\DoxyCodeLine{79 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_a87f7f17fcaee1e188a0c81727de2e0a1}\label{a00008_a87f7f17fcaee1e188a0c81727de2e0a1}} 
\index{models@{models}!remove\_comments\_pythonfile@{remove\_comments\_pythonfile}}
\index{remove\_comments\_pythonfile@{remove\_comments\_pythonfile}!models@{models}}
\doxysubsubsection{\texorpdfstring{remove\_comments\_pythonfile()}{remove\_comments\_pythonfile()}}
{\footnotesize\ttfamily def models.\+remove\+\_\+comments\+\_\+pythonfile (\begin{DoxyParamCaption}\item[{}]{file\+\_\+content }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments:
    file_content: string storing the source code in python
Return type: updated string
Functionality:
    All commments in the code are replaced.
Logic Used:
    Using Regex detect substrings starting with # and ending with \n 
    Similarly detect substrings starting with ''' and ending with '''
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{152 \textcolor{keyword}{def }remove\_comments\_pythonfile(file\_content):}
\DoxyCodeLine{153     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{154 \textcolor{stringliteral}{    Arguments:}}
\DoxyCodeLine{155 \textcolor{stringliteral}{        file\_content: string storing the source code in python}}
\DoxyCodeLine{156 \textcolor{stringliteral}{    Return type: updated string}}
\DoxyCodeLine{157 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{158 \textcolor{stringliteral}{        All commments in the code are replaced.}}
\DoxyCodeLine{159 \textcolor{stringliteral}{    Logic Used:}}
\DoxyCodeLine{160 \textcolor{stringliteral}{        Using Regex detect substrings starting with \# and ending with \(\backslash\)n }}
\DoxyCodeLine{161 \textcolor{stringliteral}{        Similarly detect substrings starting with ''' and ending with '''}}
\DoxyCodeLine{162 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{163     pattern=re.compile(\textcolor{stringliteral}{'\#.*?\$|\(\backslash\)'\(\backslash\)'\(\backslash\)'.*?\(\backslash\)'\(\backslash\)'\(\backslash\)'|\(\backslash\)"{}\(\backslash\)"{}\(\backslash\)"{}.*?\(\backslash\)"{}\(\backslash\)"{}\(\backslash\)"{}'},re.DOTALL|re.MULTILINE)}
\DoxyCodeLine{164     content=re.sub(pattern,\textcolor{stringliteral}{''},file\_content)}
\DoxyCodeLine{165     \textcolor{keywordflow}{return} content}
\DoxyCodeLine{166 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_a20dd4f7d8e9888533a7f249fb65ffe93}\label{a00008_a20dd4f7d8e9888533a7f249fb65ffe93}} 
\index{models@{models}!remove\_macros@{remove\_macros}}
\index{remove\_macros@{remove\_macros}!models@{models}}
\doxysubsubsection{\texorpdfstring{remove\_macros()}{remove\_macros()}}
{\footnotesize\ttfamily def models.\+remove\+\_\+macros (\begin{DoxyParamCaption}\item[{}]{content }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments:
    content: string storing the source code
Return type: updated string
Functionality:
    All macros in the code are replaced.
Logic Used:
    Using Regex detect the macros
    Replace them using replace() function
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{111 \textcolor{keyword}{def }remove\_macros(content):}
\DoxyCodeLine{112     }
\DoxyCodeLine{113 }
\DoxyCodeLine{114     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{115 \textcolor{stringliteral}{    Arguments:}}
\DoxyCodeLine{116 \textcolor{stringliteral}{        content: string storing the source code}}
\DoxyCodeLine{117 \textcolor{stringliteral}{    Return type: updated string}}
\DoxyCodeLine{118 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{119 \textcolor{stringliteral}{        All macros in the code are replaced.}}
\DoxyCodeLine{120 \textcolor{stringliteral}{    Logic Used:}}
\DoxyCodeLine{121 \textcolor{stringliteral}{        Using Regex detect the macros}}
\DoxyCodeLine{122 \textcolor{stringliteral}{        Replace them using replace() function}}
\DoxyCodeLine{123 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{124     temp = open(\textcolor{stringliteral}{"{}temp.cpp"{}}, \textcolor{stringliteral}{"{}w"{}})}
\DoxyCodeLine{125     temp.write(content)}
\DoxyCodeLine{126     temp.close()}
\DoxyCodeLine{127     pre = subprocess.getstatusoutput(\textcolor{stringliteral}{"{}g++ -\/E temp.cpp"{}})}
\DoxyCodeLine{128     prep=pre[1].split(\textcolor{stringliteral}{'using namespace std;'})[-\/1]}
\DoxyCodeLine{129     content=prep}
\DoxyCodeLine{130     }
\DoxyCodeLine{131     m=re.findall(\textcolor{stringliteral}{'typedef .+ .+'},content) }
\DoxyCodeLine{132     \textcolor{stringliteral}{"{}"{}"{}finding macros"{}"{}"{}}}
\DoxyCodeLine{133     }
\DoxyCodeLine{134     content=re.sub(\textcolor{stringliteral}{'typedef .+ .+'},\textcolor{stringliteral}{''},content)  }
\DoxyCodeLine{135     \textcolor{stringliteral}{"{}"{}"{}removing macros definitions"{}"{}"{}}}
\DoxyCodeLine{136 }
\DoxyCodeLine{137     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(m)):     }
\DoxyCodeLine{138         \textcolor{stringliteral}{"{}"{}"{}replacing macros"{}"{}"{}}}
\DoxyCodeLine{139         j=m[i].split()}
\DoxyCodeLine{140         if(j[-\/1]==\textcolor{stringliteral}{';'}):}
\DoxyCodeLine{141             last\_word=j[-\/2]}
\DoxyCodeLine{142         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{143             last\_word=j[-\/1]}
\DoxyCodeLine{144             if(last\_word[-\/1]==\textcolor{stringliteral}{';'}):}
\DoxyCodeLine{145                 last\_word=last\_word[:-\/1]}
\DoxyCodeLine{146             string=\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{147             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(1,len(j)-\/1):}
\DoxyCodeLine{148                 string+=j[i]+\textcolor{stringliteral}{' '}}
\DoxyCodeLine{149             content=content.replace(last\_word,string)}
\DoxyCodeLine{150     \textcolor{keywordflow}{return} content}
\DoxyCodeLine{151 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_a04f77e07fb14bd5e1676c7977d1cf9fb}\label{a00008_a04f77e07fb14bd5e1676c7977d1cf9fb}} 
\index{models@{models}!remove\_redundant\_functions@{remove\_redundant\_functions}}
\index{remove\_redundant\_functions@{remove\_redundant\_functions}!models@{models}}
\doxysubsubsection{\texorpdfstring{remove\_redundant\_functions()}{remove\_redundant\_functions()}}
{\footnotesize\ttfamily def models.\+remove\+\_\+redundant\+\_\+functions (\begin{DoxyParamCaption}\item[{}]{content }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments:
    content: string storing the source code
Return type: updated string
Functionality:
    redundant functions in a source code are removed
Logic Used:
     Write a minimal parser that can identify functions.
     It just needs to detect the start and ending line of a function.
     Programmatically comment out the first function, save to a temp file.
     Try to compile the file by invoking the complier.
     Check if there are compile errors, if yes, the function is called, if not, it is unused.
     Continue with the next function. 
     Reference:https://stackoverflow.com/questions/33209302/removal-of-unused-or-redundant-code
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{24 \textcolor{keyword}{def }remove\_redundant\_functions(content):}
\DoxyCodeLine{25     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{26 \textcolor{stringliteral}{    Arguments:}}
\DoxyCodeLine{27 \textcolor{stringliteral}{        content: string storing the source code}}
\DoxyCodeLine{28 \textcolor{stringliteral}{    Return type: updated string}}
\DoxyCodeLine{29 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{30 \textcolor{stringliteral}{        redundant functions in a source code are removed}}
\DoxyCodeLine{31 \textcolor{stringliteral}{    Logic Used:}}
\DoxyCodeLine{32 \textcolor{stringliteral}{         Write a minimal parser that can identify functions.}}
\DoxyCodeLine{33 \textcolor{stringliteral}{         It just needs to detect the start and ending line of a function.}}
\DoxyCodeLine{34 \textcolor{stringliteral}{         Programmatically comment out the first function, save to a temp file.}}
\DoxyCodeLine{35 \textcolor{stringliteral}{         Try to compile the file by invoking the complier.}}
\DoxyCodeLine{36 \textcolor{stringliteral}{         Check if there are compile errors, if yes, the function is called, if not, it is unused.}}
\DoxyCodeLine{37 \textcolor{stringliteral}{         Continue with the next function. }}
\DoxyCodeLine{38 \textcolor{stringliteral}{         Reference:https://stackoverflow.com/questions/33209302/removal-\/of-\/unused-\/or-\/redundant-\/code}}
\DoxyCodeLine{39 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{40     type\_list=[\textcolor{stringliteral}{'int'},\textcolor{stringliteral}{'void'},\textcolor{stringliteral}{'char'},\textcolor{stringliteral}{'string'}]}
\DoxyCodeLine{41     t=\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{42     \textcolor{keywordflow}{for} type \textcolor{keywordflow}{in} type\_list:}
\DoxyCodeLine{43         L=re.findall(type+\textcolor{stringliteral}{"{}\(\backslash\)s*[a-\/z0-\/9\_]\(\backslash\)s\(\backslash\)([a-\/z0-\/9\_ \(\backslash\)n\(\backslash\)t,\(\backslash\)r\(\backslash\)f\(\backslash\)v]\(\backslash\))\(\backslash\)s\(\backslash\)\{"{}},content)}
\DoxyCodeLine{44         \textcolor{keywordflow}{for} y \textcolor{keywordflow}{in} L:}
\DoxyCodeLine{45             y=y.replace(\textcolor{stringliteral}{"{}("{}},\textcolor{stringliteral}{"{}\(\backslash\)("{}})}
\DoxyCodeLine{46             y=y.replace(\textcolor{stringliteral}{"{})"{}},\textcolor{stringliteral}{"{}\(\backslash\))"{}})}
\DoxyCodeLine{47             x=re.search(y,content)}
\DoxyCodeLine{48             first=x.span()[0]}
\DoxyCodeLine{49             last=x.span()[1]}
\DoxyCodeLine{50             count=1}
\DoxyCodeLine{51             while(count!=0):}
\DoxyCodeLine{52                 if(content[last]==\textcolor{stringliteral}{'\{'}):}
\DoxyCodeLine{53                     count+=1}
\DoxyCodeLine{54                 if(content[last]==\textcolor{stringliteral}{'\}'}):}
\DoxyCodeLine{55                     count-\/=1}
\DoxyCodeLine{56                 last+=1}
\DoxyCodeLine{57             t=content[0:first]+content[last:]}
\DoxyCodeLine{58         temp = open(\textcolor{stringliteral}{"{}temp.cpp"{}}, \textcolor{stringliteral}{"{}w"{}})}
\DoxyCodeLine{59         temp.write(t)}
\DoxyCodeLine{60         temp.close()}
\DoxyCodeLine{61         g = subprocess.getstatusoutput(\textcolor{stringliteral}{"{}g++ temp.cpp"{}})}
\DoxyCodeLine{62         if(g[1]==\textcolor{stringliteral}{"{}"{}}):}
\DoxyCodeLine{63             content=t}
\DoxyCodeLine{64     \textcolor{keywordflow}{return} content}
\DoxyCodeLine{65 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_ad7bfa0660f05ca9a55b0b491cd9ace54}\label{a00008_ad7bfa0660f05ca9a55b0b491cd9ace54}} 
\index{models@{models}!similarity@{similarity}}
\index{similarity@{similarity}!models@{models}}
\doxysubsubsection{\texorpdfstring{similarity()}{similarity()}}
{\footnotesize\ttfamily def models.\+similarity (\begin{DoxyParamCaption}\item[{}]{s,  }\item[{}]{t }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments    :
    s   :(sorted)list of numbers
    t   :(sorted)list of numbers
Return type  :
    returns a number in the range(0,1)
Functionality:
    Evaluates the cosine product of the two vectors
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{317 \textcolor{keyword}{def }similarity(s,t):}
\DoxyCodeLine{318     }
\DoxyCodeLine{319     \textcolor{stringliteral}{"{}"{}"{} }}
\DoxyCodeLine{320 \textcolor{stringliteral}{    Arguments    :}}
\DoxyCodeLine{321 \textcolor{stringliteral}{        s   :(sorted)list of numbers}}
\DoxyCodeLine{322 \textcolor{stringliteral}{        t   :(sorted)list of numbers}}
\DoxyCodeLine{323 \textcolor{stringliteral}{    Return type  :}}
\DoxyCodeLine{324 \textcolor{stringliteral}{        returns a number in the range(0,1)}}
\DoxyCodeLine{325 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{326 \textcolor{stringliteral}{        Evaluates the cosine product of the two vectors}}
\DoxyCodeLine{327 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{328     x=np.zeros(abs(s.size-\/t.size))}
\DoxyCodeLine{329     \textcolor{stringliteral}{'''}}
\DoxyCodeLine{330 \textcolor{stringliteral}{    if(s.size>t.size):}}
\DoxyCodeLine{331 \textcolor{stringliteral}{        t=np.concatenate((x,t))}}
\DoxyCodeLine{332 \textcolor{stringliteral}{    else:}}
\DoxyCodeLine{333 \textcolor{stringliteral}{        s=np.concatenate((x,s))}}
\DoxyCodeLine{334 \textcolor{stringliteral}{    '''}}
\DoxyCodeLine{335     x=min(s.size,t.size)}
\DoxyCodeLine{336     s=s[-\/x:]}
\DoxyCodeLine{337     t=t[-\/x:]}
\DoxyCodeLine{338     }
\DoxyCodeLine{339     \textcolor{comment}{\#s=(s-\/np.mean(s))/np.std(s)}}
\DoxyCodeLine{340     \textcolor{comment}{\#t=(t-\/np.mean(t))/np.std(t)}}
\DoxyCodeLine{341     \textcolor{keywordflow}{return} 1-\/np.linalg.norm(s-\/t)/(np.linalg.norm(s)+np.linalg.norm(t))}
\DoxyCodeLine{342     \textcolor{keywordflow}{return} np.dot(s,t)/(np.linalg.norm(s)*np.linalg.norm(t))}

\end{DoxyCode}
\mbox{\Hypertarget{a00008_a6d507e11be3d7f5665dbf0049d0ad6bd}\label{a00008_a6d507e11be3d7f5665dbf0049d0ad6bd}} 
\index{models@{models}!tf\_idf@{tf\_idf}}
\index{tf\_idf@{tf\_idf}!models@{models}}
\doxysubsubsection{\texorpdfstring{tf\_idf()}{tf\_idf()}}
{\footnotesize\ttfamily def models.\+tf\+\_\+idf (\begin{DoxyParamCaption}\item[{}]{word\+\_\+count\+\_\+in\+\_\+each\+\_\+file,  }\item[{}]{word\+\_\+count\+\_\+across\+\_\+documents,  }\item[{}]{list\+\_\+of\+\_\+paths,  }\item[{}]{list\+\_\+of\+\_\+files }\end{DoxyParamCaption})}

\begin{DoxyVerb} Arguments    :
    list_of_paths              :list of source code files
    list_of_files                  :It consists data of all the Users who have been SignedUp
    word_count_in_each_file    :Frequency of word corresponding to each file as an array of dictionary
    word_count_across_documents:Frequency of each word across as files corresponding to a particular assignment as dictionary
Functionality:
    It computes tf_idf vector corresponding to each file.
    The tf_idf function is somewhat different from the original one
    If we use the bag of words strategy then similarity is determined mostly by the variables which have maximum count in a file.
    But similarity should depend more on core logic loke number of functions,operators loops etc.
    The weight added for each word say 'x' in file 'f' is log(freq of x across all files corresponding to assignment/(freq of x in f*number of files))
    Words which have low frequency in a file than average frequency across all files are given +ve weightage
    Words which have high frequency in a file than average frequency across all files are given -ve weightage
    Uniqueness is determined by high weightage words.
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{247 \textcolor{keyword}{def }tf\_idf(word\_count\_in\_each\_file,word\_count\_across\_documents,list\_of\_paths,list\_of\_files):}
\DoxyCodeLine{248     \textcolor{stringliteral}{"{}"{}"{} Arguments    :}}
\DoxyCodeLine{249 \textcolor{stringliteral}{        list\_of\_paths              :list of source code files}}
\DoxyCodeLine{250 \textcolor{stringliteral}{        list\_of\_files                  :It consists data of all the Users who have been SignedUp}}
\DoxyCodeLine{251 \textcolor{stringliteral}{        word\_count\_in\_each\_file    :Frequency of word corresponding to each file as an array of dictionary}}
\DoxyCodeLine{252 \textcolor{stringliteral}{        word\_count\_across\_documents:Frequency of each word across as files corresponding to a particular assignment as dictionary}}
\DoxyCodeLine{253 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{254 \textcolor{stringliteral}{        It computes tf\_idf vector corresponding to each file.}}
\DoxyCodeLine{255 \textcolor{stringliteral}{        The tf\_idf function is somewhat different from the original one}}
\DoxyCodeLine{256 \textcolor{stringliteral}{        If we use the bag of words strategy then similarity is determined mostly by the variables which have maximum count in a file.}}
\DoxyCodeLine{257 \textcolor{stringliteral}{        But similarity should depend more on core logic loke number of functions,operators loops etc.}}
\DoxyCodeLine{258 \textcolor{stringliteral}{        The weight added for each word say 'x' in file 'f' is log(freq of x across all files corresponding to assignment/(freq of x in f*number of files))}}
\DoxyCodeLine{259 \textcolor{stringliteral}{        Words which have low frequency in a file than average frequency across all files are given +ve weightage}}
\DoxyCodeLine{260 \textcolor{stringliteral}{        Words which have high frequency in a file than average frequency across all files are given -\/ve weightage}}
\DoxyCodeLine{261 \textcolor{stringliteral}{        Uniqueness is determined by high weightage words.}}
\DoxyCodeLine{262 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{263     similarity\_matrix=np.zeros((len(list\_of\_paths),len(list\_of\_paths)))}
\DoxyCodeLine{264     tf\_idf\_vec=[]}
\DoxyCodeLine{265     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(list\_of\_paths)):}
\DoxyCodeLine{266         temp=[]}
\DoxyCodeLine{267         \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} word\_count\_in\_each\_file[i]:}
\DoxyCodeLine{268             temp.append(word\_count\_in\_each\_file[i].get(j)*((math.log(word\_count\_across\_documents.get(j)/word\_count\_in\_each\_file[i].get(j)/len(list\_of\_files)))))}
\DoxyCodeLine{269         temp.sort()}
\DoxyCodeLine{270         tf\_idf\_vec.append(temp)}
\DoxyCodeLine{271 }
\DoxyCodeLine{272     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(list\_of\_paths)):}
\DoxyCodeLine{273         similarity\_matrix[i,i]=0}
\DoxyCodeLine{274         \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(i+1,len(list\_of\_paths)):}
\DoxyCodeLine{275             similarity\_matrix[i,j]=similarity(np.array(tf\_idf\_vec[i]),np.array(tf\_idf\_vec[j]))}
\DoxyCodeLine{276             similarity\_matrix[j,i]=similarity\_matrix[i,j]}
\DoxyCodeLine{277     }
\DoxyCodeLine{278     txt\_file(similarity\_matrix,list\_of\_paths,list\_of\_files)}
\DoxyCodeLine{279 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_ae9d41a08307e8914d368c6e18d9f52b5}\label{a00008_ae9d41a08307e8914d368c6e18d9f52b5}} 
\index{models@{models}!txt\_file@{txt\_file}}
\index{txt\_file@{txt\_file}!models@{models}}
\doxysubsubsection{\texorpdfstring{txt\_file()}{txt\_file()}}
{\footnotesize\ttfamily def models.\+txt\+\_\+file (\begin{DoxyParamCaption}\item[{}]{similarity\+\_\+matrix,  }\item[{}]{list\+\_\+of\+\_\+paths,  }\item[{}]{list\+\_\+of\+\_\+files }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments    :
    list_of_paths    :list of source code file names
    similarity_matrix:2-dimensional matrix representing mutual similarity between each pair of files
    list_of_files        :It consists data of all the Users who have been SignedUp
Functionality:
    Displaying the Percentage matching among files in text format and saving it as a csv file \end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{280 \textcolor{keyword}{def }txt\_file(similarity\_matrix,list\_of\_paths,list\_of\_files):}
\DoxyCodeLine{281     \textcolor{stringliteral}{"{}"{}"{} }}
\DoxyCodeLine{282 \textcolor{stringliteral}{    Arguments    :}}
\DoxyCodeLine{283 \textcolor{stringliteral}{        list\_of\_paths    :list of source code file names}}
\DoxyCodeLine{284 \textcolor{stringliteral}{        similarity\_matrix:2-\/dimensional matrix representing mutual similarity between each pair of files}}
\DoxyCodeLine{285 \textcolor{stringliteral}{        list\_of\_files        :It consists data of all the Users who have been SignedUp}}
\DoxyCodeLine{286 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{287 \textcolor{stringliteral}{        Displaying the Percentage matching among files in text format and saving it as a csv file "{}"{}"{}}   }
\DoxyCodeLine{288     result=open(\textcolor{stringliteral}{"{}media/result.txt"{}},\textcolor{stringliteral}{"{}w"{}})}
\DoxyCodeLine{289     res=\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{290     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(list\_of\_paths)):}
\DoxyCodeLine{291         \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(i+1,len(list\_of\_paths)):}
\DoxyCodeLine{292             res+=\textcolor{stringliteral}{"{}similarity between "{}}+ list\_of\_files[i]+\textcolor{stringliteral}{"{} and "{}}+list\_of\_files[j]+\textcolor{stringliteral}{"{} = "{}}+str(similarity\_matrix[i][j])+\textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{293     result.write(res)}
\DoxyCodeLine{294     csv\_file(list\_of\_files,similarity\_matrix)}
\DoxyCodeLine{295 }

\end{DoxyCode}
\mbox{\Hypertarget{a00008_ad68fd9f59271bd6488f679c29f8c0d0d}\label{a00008_ad68fd9f59271bd6488f679c29f8c0d0d}} 
\index{models@{models}!visualizer@{visualizer}}
\index{visualizer@{visualizer}!models@{models}}
\doxysubsubsection{\texorpdfstring{visualizer()}{visualizer()}}
{\footnotesize\ttfamily def models.\+visualizer (\begin{DoxyParamCaption}\item[{}]{list\+\_\+of\+\_\+files,  }\item[{}]{similarity\+\_\+matrix }\end{DoxyParamCaption})}

\begin{DoxyVerb}Arguments    :
    list_of_files    :list of source code file names
    similarity_matrix:2-dimensional matrix representing mutual similarity between each pair of files
Return type  :
    Path of the saved image
Functionality:
    Plotting the output similarity_matrix and saving it as an image \end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{80 \textcolor{keyword}{def }visualizer(list\_of\_files,similarity\_matrix):}
\DoxyCodeLine{81     \textcolor{stringliteral}{"{}"{}"{} }}
\DoxyCodeLine{82 \textcolor{stringliteral}{    Arguments    :}}
\DoxyCodeLine{83 \textcolor{stringliteral}{        list\_of\_files    :list of source code file names}}
\DoxyCodeLine{84 \textcolor{stringliteral}{        similarity\_matrix:2-\/dimensional matrix representing mutual similarity between each pair of files}}
\DoxyCodeLine{85 \textcolor{stringliteral}{    Return type  :}}
\DoxyCodeLine{86 \textcolor{stringliteral}{        Path of the saved image}}
\DoxyCodeLine{87 \textcolor{stringliteral}{    Functionality:}}
\DoxyCodeLine{88 \textcolor{stringliteral}{        Plotting the output similarity\_matrix and saving it as an image "{}"{}"{}}}
\DoxyCodeLine{89     x=range(len(list\_of\_files)) }
\DoxyCodeLine{90     y=range(len(list\_of\_files))}
\DoxyCodeLine{91     xx,yy=np.meshgrid(x,y)}
\DoxyCodeLine{92     z=similarity\_matrix[xx,yy]}
\DoxyCodeLine{93     z=np.round(z*100)}
\DoxyCodeLine{94     cmap = matplotlib.colors.LinearSegmentedColormap.from\_list(\textcolor{stringliteral}{"{}"{}}, [\textcolor{stringliteral}{"{}green"{}},\textcolor{stringliteral}{"{}yellow"{}},\textcolor{stringliteral}{"{}red"{}}])}
\DoxyCodeLine{95     fig=plt.figure()}
\DoxyCodeLine{96     ax=fig.add\_subplot(111)}
\DoxyCodeLine{97     im=ax.matshow(z,cmap=cmap,vmin=0,vmax=100,origin=\textcolor{stringliteral}{'lower'})}
\DoxyCodeLine{98     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(list\_of\_files)):}
\DoxyCodeLine{99         \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(i+1,len(list\_of\_files)):}
\DoxyCodeLine{100             ax.text(j, i, int(similarity\_matrix[i,j]*100),ha=\textcolor{stringliteral}{"{}center"{}}, va=\textcolor{stringliteral}{"{}center"{}}, color=\textcolor{stringliteral}{"{}k"{}})}
\DoxyCodeLine{101             ax.text(i,j, int(similarity\_matrix[i,j]*100),ha=\textcolor{stringliteral}{"{}center"{}}, va=\textcolor{stringliteral}{"{}center"{}}, color=\textcolor{stringliteral}{"{}k"{}})}
\DoxyCodeLine{102     fig.colorbar(im,shrink=0.5)}
\DoxyCodeLine{103     ax.set\_xticks(range(len(list\_of\_files)))}
\DoxyCodeLine{104     ax.set\_yticks(range(len(list\_of\_files)))}
\DoxyCodeLine{105     ax.set\_xticklabels(list\_of\_files,rotation=90)}
\DoxyCodeLine{106     ax.set\_yticklabels(list\_of\_files)}
\DoxyCodeLine{107     random=np.random.randint(1,100)}
\DoxyCodeLine{108     path=\textcolor{stringliteral}{'result.png'}}
\DoxyCodeLine{109     plt.savefig(\textcolor{stringliteral}{'media/'}+path)}
\DoxyCodeLine{110 }

\end{DoxyCode}
